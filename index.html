<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebX Journal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Optional: Custom styles or overrides */
        body {
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            background-color: #0d1117; /* Dark background */
            color: #c9d1d9; /* Light text color */
        }
        /* Basic loader for the loading overlay */
        .loader {
            border-top-color: #3498db;
            -webkit-animation: spinner 1.5s linear infinite;
            animation: spinner 1.5s linear infinite;
        }
        @-webkit-keyframes spinner {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Basic styling for messages (can be enhanced by Tailwind classes) */
        #messageContainer { /* Updated to match JS selector */
             /* existing styles */
             min-width: 200px;
             max-width: 350px;
        }
        /* Ensure the 'hidden' class from Tailwind is effective */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body class="antialiased">
    <div id="loadingOverlay" class="fixed inset-0 flex items-center justify-center bg-gray-900 text-gray-400 z-50">
        <div class="text-center">
            <div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mx-auto mb-4"></div>
            <p>Loading WebX Journal...</p>
        </div>
    </div>

    <div id="messageContainer" class="hidden fixed top-4 left-1/2 -translate-x-1/2 p-3 rounded-md text-center text-sm z-50"></div>

    <div id="app-content-container" class="hidden">
        <section id="authSection" class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
            <div class="max-w-md w-full space-y-8">
                <div id="loginRegisterContainer"></div>
            </div>
        </section>

        <section id="mainJournalSection" class="max-w-4xl mx-auto p-4 md:p-6 lg:p-8">
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-3xl font-bold text-white">My WebX Journal</h1>
                <button id="logoutBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition-colors duration-200">Logout</button>
            </div>

            <div class="mb-6 flex flex-wrap gap-3">
                <button id="newEntryBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md">New Entry</button>
                <button id="exportDataBtn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md">Export Data</button>
                <button id="importDataBtn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-md">Import Data</button>
                <input type="file" id="importFile" accept=".json" class="hidden">
                <button id="clearAllDataBtn" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md">Clear All Data</button>
            </div>

            <div id="journalEntryListSection">
                <h2 class="text-2xl font-semibold text-white mb-4">Your Entries</h2>
                <div id="journalEntriesList" class="space-y-4">
                    </div>
            </div>

            <div id="journalEntryEditorSection" class="hidden bg-gray-800 p-6 rounded-lg shadow-xl">
                <h2 id="entryFormTitle" class="text-2xl font-semibold text-white mb-4">New Journal Entry</h2>
                <form id="journalEntryForm" class="space-y-4">
                    <div>
                        <label for="journalEntryTitle" class="block text-gray-300 text-sm font-bold mb-2">Title</label>
                        <input type="text" id="journalEntryTitle" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600 text-white" placeholder="Entry Title" required>
                    </div>
                    <div>
                        <label for="journalEntryContent" class="block text-gray-300 text-sm font-bold mb-2">Content</label>
                        <textarea id="journalEntryContent" rows="10" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600 text-white" placeholder="Write your thoughts here..." required></textarea>
                    </div>
                    <div class="flex space-x-3">
                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Save Entry</button>
                        <button type="button" id="cancelEditBtn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Cancel</button>
                    </div>
                </form>
            </div>
        </section>
    </div>

    <script type="module" src="src/main.js"></script>
</body>
</html>
